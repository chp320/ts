# 엘라스틱 스택 개발부터 운영까지
- 회사 시스템에 다양한 서비스들이 운영 중인데 마땅한 APM 툴이 없어 실시간 모니터링이 불가한 상황이다.
- APM 툴을 적용할 수 있겠으나 단순히 APM 툴만 적용하기 보다는 시스템별로 산재한 로그를 수집/분석에 대한 needs도 있어 도서를 통해 정리해본다.

## 엘라스틱 스택이란?
### 엘라스틱 서치
- 인터넷이 발전함에 따라 사이트 내에서 전문 검색(full text search)에 대한 요구사항이 대두 되었고
- 기업들은 대량의 DB나 파일 시스템 검색을 위해 벤더가 제공하는 비싼 솔루션 의존이 커짐에 따라 새로운 검색 엔진의 필요성이 커짐
- http상에서 json으로 interface 지원, java 외 다른 프로그래밍 언어 지원하는 솔루션인 엘라스틱 서치가 2010년 2월 공개

### 엘라스틱 스택
- 대량의 데이터를 수집, 가공, 저장, 분석, 시각화하는 일련의 파이프라인을 구성하기 위한 조합이 필요했고
- ElasticSearch, Logstash, Kibana 를 합친 '엘라스틱 스택(Elastic Stack)'이 나타남

### 엘라스틱 스택 구성요소
<img src="https://github.com/chp320/ts/assets/47440517/f73039b4-8072-491b-8f17-76133ffad3f9" />

- 엘라스틱 서치는 내부적으로 모든 레코드를 json형태로 관리하고 있고, 쿼리한 결과에 대해 일치하는 내용을 반환한다.
  - 검색 엔진이면서 데이터베이스이기도 하고 텍스트 외 다양한 데이터 타입에 대해 최적화되어 있어 일종의 NoSQL DB로 봐도 무방
- 키바나는 엘라스틱 서치 기반의 시각화 도구로 엘라스틱 스택의 UI를 담당
  - 시각화 도구를 사용해 커스텀 대시보드 구성이 가능하고, 성능 모니터링을 위한 APM 등의 기능 활용 가능
- 로그스태시는 데이터 수집과 가공을 처리하며 특히 다양한 소스로부터 로그 수집이 가능
<img src="https://github.com/chp320/ts/assets/47440517/f5e03955-7ece-4f65-b5f7-1c7f45efbf58" />

- 비치는 경량화된 수집 도구로 상대적으로 무거운 로그스태시를 대신해 각 서비스 호스트에 부담없이 설치 가능
  - 일반적으로 '비츠'로 데이터를 수집하고 '로그스태시'로 가공해 '엘라스틱서치'로 전송하는 아키텍처로 구성됨
<img src="https://github.com/chp320/ts/assets/47440517/bf923f96-daf5-4ae1-83c2-28e1db82b120" />

## 유사 제품과 비교

