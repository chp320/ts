```
EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±+pem íŒŒì¼ ìƒì„±, íƒ„ë ¥ì IP í• ë‹¹ê¹Œì§€ ì§„í–‰í•˜ì˜€ìŒ
ì´ì œ ì½˜ì†”(í„°ë¯¸ë„)ì—ì„œ EC2 ì„œë²„ë¡œ SSH ì ‘ì†ì„ ìœ„í•œ ì„¤ì •ì„ ì•Œì•„ë³¸ë‹¤.
```
ê¸°ì¤€: 2023.11.16

# EC2 ì„œë²„ ì ‘ì†í•˜ê¸°
- EC2 ì ‘ì†ì„ ìœ„í•´ OSë³„ë¡œ ìƒì´í•¨
  - Mac/Linux : í„°ë¯¸ë„
  - Windows : putty
 
## 1. Mac/Linux
### 1-1. ê¸°ë³¸ ëª…ë ¹ì–´
- SSH ì ‘ì†ì„ ìœ„í•´ì„œëŠ” ë§¤ë²ˆ ì•„ë˜ ëª…ë ¹ì–´ ìˆ˜í–‰ í•„ìš”
```
$ ssh -i pemí‚¤ìœ„ì¹˜ EC2íƒ„ë ¥ì IPì£¼ì†Œ
```

### 1-2. pem í‚¤ íŒŒì¼ ë³µì‚¬
- í‚¤í˜ì–´ pem íŒŒì¼ì„ ~/.ssh/ ê²½ë¡œë¡œ ì´ë™ í›„ ssh ì‹¤í–‰ ì‹œ pem íŒŒì¼ì„ ìë™ìœ¼ë¡œ ì½ì–´ ì ‘ì†í•¨
```
$ cp -f pemíŒŒì¼í˜„ì¬ìœ„ì¹˜ ~/.ssh/
$ chmod 600 ~/.ssh/pemí‚¤íŒŒì¼ëª…
```

### 1-3. config íŒŒì¼ ì‘ì„±
- ë§Œì¼ ê¸°ì¡´ config íŒŒì¼ì´ ìˆë‹¤ë©´ ìˆ˜ì •í•˜ë©´ ë¨!
```
$ ls ~/.ssh/config
$ vi ~/.ssh/config
```
- ì•„ë˜ ì–‘ì‹ì— ë§ê²Œ ì‘ì„±
```
# ì£¼ì„
Host ì›í•˜ëŠ”ì„œë¹„ìŠ¤ëª…
    HostName EC2íƒ„ë ¥ì IPì£¼ì†Œ
    User ec2-user
    IdentityFile ~/.ssh/pemí‚¤íŒŒì¼ëª…
```
- ì‘ì„±í•œ config íŒŒì¼ì— ì‹¤í–‰ ê¶Œí•œ ì—†ìœ¼ë©´ ì‹¤í–‰ ê¶Œí•œ ì„¤ì • ì¶”ê°€
```
chmod 700 ~/.ssh/config
```

### 1-4. SSH ì ‘ì†
- ssh ëª…ë ¹ì–´ë¡œ ì ‘ì†
```
# ë‚˜ì˜ ê²½ìš° ssh MyServer
$ ssh configì—ë“±ë¡í•œ'ì„œë¹„ìŠ¤ëª…'
```
- ë§Œì¼ ì•„ë˜ì²˜ëŸ¼ 'ë„ˆ ê³„ì† ì§„í–‰í• ë˜?' ë¬¼ì–´ë³´ë©´ yes ì…ë ¥í•˜ë©´ ë¨!
```
Are you sure you want to continue connecting (yes/no/[fingerprint])?
```
- ì ‘ì†í–ˆë‹¤! ë¹™ê³ !

## 2. Windows
- ìœˆë„ìš°ëŠ” ë§¥/ë¦¬ëˆ…ìŠ¤ì™€ ë‹¬ë¦¬ ë‚´ì¥ í„°ë¯¸ë„ì´ ì—†ì–´ ë³„ë„ puttyë¥¼ ì„¤ì¹˜í•˜ì—¬ ì§„í–‰
  - www.putty.org ì—ì„œ í•˜ê¸° íŒŒì¼ ë‹¤ìš´ë¡œë“œ
    - putty.exe
    - puttygen.exe
   
### 2-1. pem íŒŒì¼ ë³€í™˜
- puttyëŠ” pem í‚¤ ì‚¬ìš©ì´ ë¶ˆê°€í•˜ì—¬ pem í‚¤ë¥¼ ppk íŒŒì¼ë¡œ ë³€í™˜í•´ì•¼ ì´ìš© ê°€ëŠ¥
- puttygen.exe ì‹¤í–‰ > Conversions > Import key > pem í‚¤ ì„ íƒ > ìë™ ë³€í™˜ ì§„í–‰ > Save private key í´ë¦­ (ppk íŒŒì¼ ìƒì„±) > ì˜ˆ
- putty.exe ì‹¤í–‰ > ì¢Œì¸¡ ë©”ë‰´ > Session
  - HostName: ec2-user@íƒ„ë ¥ì IPì£¼ì†Œ
  - Port: 22
  - Connection type: SSH
- ì¢Œì¸¡ ë©”ë‰´ > Connection > SSH > Auth > (ìš°í•˜ë‹¨) Browse... > ppk íŒŒì¼ ì„ íƒ
- ì¢Œì¸¡ ë©”ë‰´ > Session > (ìš°ì¸¡) Saved Sessionsì— ì´ë¦„ ì…ë ¥ > Save > Open > ì˜ˆ


## 3. EC2 ë¦¬ëˆ…ìŠ¤ ì„œë²„ í•„ìˆ˜ ì„¤ì •
- ìë°” ê¸°ë°˜ application ì‘ë™ì„ ìœ„í•´ì„œ ì„œë²„ì—ì„œ í•„ìˆ˜ ì§„í–‰í•´ì•¼í•  ì„¤ì •
  - Java ì„¤ì¹˜
  - íƒ€ì„ì¡´ ë³€ê²½ : ê¸°ë³¸ ì„œë²„ ì‹œê°„ì€ 'ë¯¸êµ­ ì‹œê°„ëŒ€'ì„
  - í˜¸ìŠ¤íŠ¸ë„¤ì„ ë“±ë¡
- ìœ„ì—ì„œ ì„¤ì •í•œ ì ‘ì† ë°©ì‹ì„ í†µí•´ EC2 ì„œë²„ë¡œ ì ‘ì†
 
### 3-1. ìë°” ì„¤ì¹˜
- ì—¬ê¸°ì„œëŠ” ìë°”8 ì„¤ì¹˜í• êº¼ì„
```
# Amazon Linux 2 AMIì¸ ê²½ìš° (AL2)
$ sudo yum install -y java-1.8.0-openjdk-devel.x86_64
# Amazon Linux 2023 AMIì¸ ê²½ìš° (AL2023)
$ sudo dnf install java-1.8.0-amazon-corretto-devel
```
- ì°¸ê³ ë¡œ AL2ì™€ AL2023ì˜ ì°¨ì´ëŠ”.. AL2ëŠ” yum ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©°, AL2023ì€ dnf ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ install ê´€ë¦¬ë¥¼ í•œë‹¤ê³  í•œë‹¤.
  - ë”ë¶ˆì–´ AL2ëŠ” python2.7 ê¸°ë°˜ì¸ë° AL2023ì€ python3 ê¸°ë°˜ì´ë¼ê³  í•¨
- ìë°” ë²„ì „ í™•ì¸
```
$ java -version
```
- ìë°” ë²„ì „ ë³€ê²½: ë§Œì¼ ìë°”8ì´ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ë²„ì „ë„ í•¨ê»˜ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ê²½ìš°, ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì‰½ê²Œ ë²„ì „ ë³€ê²½ì´ ê°€ëŠ¥í•¨
```
$ alternatives --config java
```
  - ìƒê¸° ëª…ë ¹ì–´ ìˆ˜í–‰í•˜ë©´ ì„¤ì¹˜ëœ ìë°” ë²„ì „ì´ ë„˜ë²„ë§ë˜ì–´ ë‚˜íƒ€ë‚˜ë©°, ë³€ê²½ì½”ì í•˜ëŠ” ë²„ì „ì˜ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´ í•´ë‹¹ ë²„ì „ìœ¼ë¡œ ë³€ê²½ë¨

### 3-2. íƒ€ì„ì¡´ ë³€ê²½
- EC2 ì„œë²„ ê¸°ë³¸ íƒ€ì„ì¡´ì€ UTCë¡œ í•œêµ­ ì‹œê°„ëŒ€ë¡œ ë³€ê²½ í•„ìš”
- ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ í˜„ì¬ UTCë¡œ ì§€ì •ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ
```
$ cat /etc/localtime
TZif2UTCTZif2UTC
UTC0
```
- í•˜ê¸° ëª…ë ¹ì–´ë¥¼ ì°¨ë¡€ë¡œ ìˆ˜í–‰
```
$ sudo rm /etc/localtime
$ sudo ln -s /usr/share/zoneinfo/Asia/Seoul /etc/localtime
# ë³€ê²½ëœ íƒ€ì„ì¡´ í™•ì¸
$ date
```

### 3-3. í˜¸ìŠ¤íŠ¸ë„¤ì„ ë“±ë¡
- í˜„ì¬ ì •ë³´ í™•ì¸
```
$ uname -n
```
- hostname ë³€ê²½
```
$ sudo vim /etc/hostname
ì›í•˜ëŠ”í˜¸ìŠ¤íŠ¸ëª…ë“±ë¡
# ì„œë²„ ì¬ë¶€íŒ… (ì´í›„ì— ë³€ê²½ë‚´ìš© í™•ì¸)
$ sudo reboot
```
- í˜¸ìŠ¤íŠ¸ ì£¼ì†Œ ê²€ìƒ‰ ì‹œ ê°€ì¥ ë¨¼ì € í™•ì¸í•˜ëŠ” /etc/hosts ì— ë³€ê²½í•œ hostname ë“±ë¡
  - hostnameì´ /etc/hosts ì— ë“±ë¡ë˜ì§€ ì•Šì•„ ë°œìƒí•œ ì¥ì• ëŠ” ì•„ë˜ ìš°ì™€ê¸°ìˆ ë¸”ë¡œê·¸ ì°¸ê³ 
```
$ sudo vim /etc/hosts

# /etc/hosts íŒŒì¼ì— ë°©ê¸ˆ ë“±ë¡í•œ hostname ì¶”ê°€
127.0.0.1 ë“±ë¡í•œhostname

# ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì •ìƒ ë“±ë¡ ì—¬ë¶€ í™•ì¸
# ë‚˜ì˜ ê²½ìš° curl myserver
$ curl ë“±ë¡í•œhostname
```
- ë§Œì•½ 80í¬íŠ¸ë¡œ ì ‘ì† ì‹¤íŒ¨í–ˆë‹¤ëŠ” ë©”ì„¸ì§€ ë‚˜ì™€ë„ ë‹¹í™©í•˜ì§€ ë§ì. ì´ ê²½ìš°ëŠ” 80í¬íŠ¸ë¡œ ì‹¤í–‰ëœ ì„œë¹„ìŠ¤ê°€ ì—†ëŠ” ê²½ìš°ë¡œ í†µì‹ ì€ ì •ìƒì´ê³  ì„œë¹„ìŠ¤ë§Œ ë“±ë¡í•˜ë©´ ë¨
  - ì—ëŸ¬ ë©”ì‹œì§€ ====> curl: (7) Failed to connect to myserver port 80


- ğŸ™ˆ ì£¼ì˜ ğŸ™ˆ
  - OSë²„ì „ì— ë”°ë¼ ìˆ˜ì •í•´ì•¼í•  íŒŒì¼ì´ ë‹¤ë¦„
    - CentOS 5,6ë²„ì „ì€ /etc/sysconfig/network
    - CentOS 7ë²„ì „ì€ /etc/hostname
   

##### ì°¸ê³  ì‚¬ì´íŠ¸
https://linux.how2shout.com/how-to-install-java-on-amazon-linux-2023/
https://techblog.woowahan.com/2517/
https://m.blog.naver.com/jsky10503/220743935499

